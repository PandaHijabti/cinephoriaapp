<div class="container py-4">
  <div class="d-flex flex-wrap gap-3 align-items-end mb-4">
    <div class="flex-grow-1">
      <label class="form-label fw-semibold">Recherche</label>
      <input class="form-control" [(ngModel)]="query" placeholder="Titre du film..." />
    </div>
    <div style="min-width: 200px;">
      <label class="form-label fw-semibold">Note minimale</label>
      <select class="form-select" [(ngModel)]="minRating">
        <option [ngValue]="0">Toutes</option>
        <option [ngValue]="6">≥ 6</option>
        <option [ngValue]="7">≥ 7</option>
        <option [ngValue]="8">≥ 8</option>
        <option [ngValue]="9">≥ 9</option>
      </select>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-6 col-md-4 col-lg-3" *ngFor="let film of filtered">
      <div class="movie card h-100 shadow-sm">
        <div class="poster-wrap">
          <img [src]="film.poster" [alt]="film.title" class="card-img-top object-fit-cover" height="360" />
          <span class="badge rating">
            <i class="bi bi-star-fill me-1"></i>{{ film.rating }}
          </span>
        </div>
        <div class="card-body">
          <h6 class="card-title mb-1 text-truncate">{{ film.title }}</h6>
          <p class="text-muted mb-3">{{ film.year }}</p>
          <a class="btn btn-outline-primary w-100" [routerLink]="['/films', film.id]">
            <i class="bi bi-info-circle me-1"></i> Détails
          </a>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="filtered.length === 0" class="text-center text-muted py-5">
    Aucun film ne correspond à ta recherche.
  </div>
</div>

